Code repository for: Mousley, V. L., Contini, L., Re, R., Pinti, P. & Mareschal, D. (under review). Analytical pipeline optimisation in developmental fNIRS hyperscanning data: Neural coherence between preschoolers collaborating with their mothers. 

Please contact Victoria Mousley with any questions (v.mousley@bbk.ac.uk).

**Requirements**

_Software_

  - MATLAB 2020B (installation: https://uk.mathworks.com/help/install/install-products.html)
  - RStudio 4.2.2 (installation: https://rstudio.com/products/rstudio/download/)

_Toolboxes/Functions_

  - Homer2 Toolbox (https://homer-fnirs.org/download/). Huppert, T. J., Diamond, S. G., Franceschini, M. A., & Boas, D. A. (2009). HomER: A review of time-series analysis methods for near-infrared spectroscopy of the brain. Applied Optics, 48(10), D280–D298. https://doi.org/10.1364/ao.48.00d280
  - Cross Wavelet and Wavelet Coherence Toolbox (https://grinsted.github.io/wavelet-coherence/). Grinsted, A., Moore, J. C., & Jevrejeva, S. (2004). Application of the cross wavelet transform and wavelet coherence to geophysical time series. Nonlinear Processes in Geophysics, 11, 561–566. https://doi.org/1607-7946/npg/2004-11-561
  
**Example data**

After cloning the repository, you can run all scripts with the example data provided (see /example_data/) by adding the path at the beginning of the scripts. One example fNIRS dataset is provided. The pipeline also incorporates input from Excel files, such as excluded channels identified manually. Templates for these file structures are also provided.
